<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Dijit</title>
	</head>
	<body>
		<script>
			function FakeWidget (args, node) {
				this.args = args;
				this.node = node;
				this.a = 1;
				this.b = 'foo';
				this.c = 3;
			}

			FakeWidget.prototype = {
				constructor: FakeWidget,
				get: function (propertyName) {
					return this[propertyName];
				}
			};

			var require = function (mids) {
				var modules = [];
				mids.forEach(function (mid) {
					if (mid === 'dijit/registry') {
						modules.push({
							byId: function (id) {
								return new FakeWidget();
							}
						});
					}
					else if (mid === 'dojo/when')
					{
						modules.push(function (widget) {
							function always (callback) {
								return callback(widget);
							}
						});
					}
				});
				return modules;
			};
		</script>
	</body>
</html>
